<div class="team-page-container px-4 max-w-[1400px] mx-auto min-h-screen pt-0.5 pb-16">
  <!-- Tabs -->
  <section class="team-content mt-8 max-w-[950px] mx-auto">
    <mat-tab-group dynamicHeight class="w-full">
      <!-- Squad Tab -->
      <mat-tab label="Plantilla">
        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 mt-4 justify-items-center">
          @for (player of players(); track player.id) {
          <!-- Player Card -->
          <article
            class="relative p-6 rounded-lg bg-browers-charcoal backdrop-blur-md border border-browers-purple shadow-lg transition-transform hover:-translate-y-1 hover:shadow-2xl flex flex-col items-center text-center h-[360px] min-w-[100px] max-w-full w-full">
            <!-- Player info & Squad number -->
            <div class="flex flex-col items-center justify-center flex-grow">
              <h3 class="text-xl font-bold text-browers-white mb-2">
                {{ player.nick_name }}
              </h3>
              <div class="text-7xl sm:text-8xl font-extrabold text-browers-white opacity-90 leading-none">
                {{ player.squad_number }}
              </div>
              <p class="text-sm text-browers-silver mt-3">
                {{ getPositionName(player.position) }}
              </p>
            </div>

            <!-- Stats -->
            <div class="flex flex-wrap justify-center gap-4 text-sm text-browers-silver mt-4">
              <span>‚≠ê {{ player.rating }}</span>
              <span>‚öΩ {{ player.goals }}</span>
              <span>üéØ {{ player.assists }}</span>
              @if (player.position === 'por') {
              <span>ü•Ö {{ player.saves }}</span>
              }
            </div>

            <!-- Injury badge -->
            @if (player.injured) {
            <span
              class="absolute top-3 right-3 text-xs bg-red-600/90 text-white px-3 py-1 rounded-md font-medium animate-pulse shadow-md">
              ü©π Lesionado
            </span>
            }
          </article>
          }
        </div>
      </mat-tab>

      <!-- Matches Tab -->
      <mat-tab label="Partidos">
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 mt-3">
          @for (match of recentMatches(); track match.id) {
          <article class="p-6 rounded-xl bg-browers-charcoal backdrop-blur-md border border-white/10 shadow-lg 
          transition-transform hover:-translate-y-1 hover:shadow-xl flex flex-col justify-between 
          aspect-[3/1] break-words">
            <!-- Match Teams & Score -->
            <div class="flex items-center justify-between text-browers-white">
              <!-- Home Team -->
              <div class="flex items-center gap-2">
                <img src="{{ match?.home_team?.shield || '../../assets/img/browers-brand.png' }}"
                  alt="{{ match?.home_team?.full_name || 'Team' }} shield" class="w-9 h-9 object-contain" />
                <span class="text-sm font-medium">{{ match?.home_team?.short_name }}</span>
              </div>

              <!-- Score / Time -->
              <div class="text-center">
                @if (match.status === 'finished') {
                <div class="font-bold text-xl">{{ match.home_goals }} - {{ match.away_goals }}</div>
                } @else {
                <div class="text-sm text-browers-silver">
                  {{ formatKickoffTime(match.kickoff) }} ¬∑ {{ formatKickoffDate(match.kickoff) }}
                </div>
                }
              </div>

              <!-- Away Team -->
              <div class="flex items-center gap-2">
                <span class="text-sm font-medium">{{ match?.away_team?.short_name }}</span>
                <img src="{{ match?.away_team?.shield || '../../assets/img/browers-brand.png' }}"
                  alt="{{ match?.away_team?.full_name || 'Team' }} shield" class="w-9 h-9 object-contain" />
              </div>
            </div>

            <!-- Match Meta -->
            <div class="flex justify-between items-center mt-4 text-xs text-browers-silver">
              <span>{{ getStatusLabel(match.status) }}</span>
              <span class="flex items-center gap-2">
                @if (match.location) { <span>üìç {{ match.location }}</span> } @if (match.mvp_player)
                { <span>üèÜ {{ match.mvp_player.nick_name }}</span> }
              </span>
            </div>
          </article>
          }
        </div>
      </mat-tab>
    </mat-tab-group>
  </section>
</div>